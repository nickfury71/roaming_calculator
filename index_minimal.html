<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Калькулятор роуминга — Турция (Билайн)</title>
  <style>
    body{font-family:Arial, sans-serif;margin:20px;max-width:900px}
    h1{margin-bottom:0}
    .row{display:flex;justify-content:space-between;margin:6px 0}
    input{width:120px;text-align:right}
    .card{border:1px solid #ccc;border-radius:8px;padding:12px;margin:12px 0}
    .btn{padding:4px 8px;margin-right:4px;cursor:pointer}
  </style>
</head>
<body>
  <h1>Калькулятор роуминга (Турция, Билайн)</h1>
  <p>Измени параметры — цифры обновятся автоматически.</p>

  <div class="card">
    <h2>Пакет</h2>
    <div class="row"><label>Цена пакета, ₽</label><input id="price" type="number" value="1400"></div>
    <div class="row"><label>Размер пакета, ГБ</label><input id="gb" type="number" value="1" step="0.5"></div>
    <div class="row"><label>Дней</label><input id="days" type="number" value="7"></div>
    <div class="row">
      <span>1 ГБ =</span>
      <span>
        <button class="btn" onclick="setMB(1000)">1000 МБ</button>
        <button class="btn" onclick="setMB(1024)">1024 МБ</button>
      </span>
    </div>
    <label><input type="checkbox" id="unlimMaps"> Безлимитные карты</label><br>
    <label><input type="checkbox" id="unlimMsg"> Безлимитные мессенджеры</label>
  </div>

  <div class="card">
    <h2>Ежедневные действия</h2>
    <div class="row"><label>Маршрутов (карты)</label><input id="mapsRoutes" type="number" value="2"></div>
    <div class="row"><label>Минут навигации</label><input id="mapsMin" type="number" value="60"></div>
    <div class="row"><label>WhatsApp текстов</label><input id="waTexts" type="number" value="20"></div>
    <div class="row"><label>WhatsApp фото</label><input id="waPhotos" type="number" value="2"></div>
    <div class="row"><label>Telegram текстов</label><input id="tgTexts" type="number" value="20"></div>
    <div class="row"><label>Telegram фото</label><input id="tgPhotos" type="number" value="2"></div>
    <div class="row"><label>Такси вызовов</label><input id="taxi" type="number" value="1"></div>
  </div>

  <div class="card">
    <h2>Итоги</h2>
    <p>Платный трафик в день: <b><span id="mbDay">0</span></b> МБ</p>
    <p>За весь период: <b><span id="mbTotal">0</span></b> МБ</p>
    <p>Объём пакета: <b><span id="mbPack">0</span></b> МБ</p>
    <p>Цена 1 МБ: <b><span id="rubPerMB">0</span></b> ₽</p>
    <p>Стоимость потребления: <b><span id="costRub">0</span></b> ₽</p>
    <p>Запас: <b><span id="spare">0</span></b> МБ</p>
  </div>

<script>
let mbPerGB = 1000;
function setMB(v){ mbPerGB = v; recalc(); }
function val(id){ return Number(document.getElementById(id).value)||0; }
function checked(id){ return document.getElementById(id).checked; }
function recalc(){
  let price = val('price');
  let gb = val('gb');
  let days = val('days');
  let mbPack = gb*mbPerGB;

  // расходы
  let mbMaps = val('mapsRoutes')*3 + val('mapsMin')*0.5;
  let mbWA = val('waTexts')*0.02 + val('waPhotos')*0.4;
  let mbTG = val('tgTexts')*0.02 + val('tgPhotos')*0.5;
  let mbTaxi = val('taxi')*1.5;

  let mbDay = (checked('unlimMaps')?0:mbMaps) + (checked('unlimMsg')?0:(mbWA+mbTG)) + mbTaxi;
  let mbTotal = mbDay*days;
  let rubPerMB = price/(mbPack||1);
  let costRub = Math.min(mbTotal, mbPack)*rubPerMB;
  let spare = Math.max(mbPack-mbTotal,0);

  document.getElementById('mbDay').textContent = mbDay.toFixed(1);
  document.getElementById('mbTotal').textContent = mbTotal.toFixed(1);
  document.getElementById('mbPack').textContent = mbPack;
  document.getElementById('rubPerMB').textContent = rubPerMB.toFixed(3);
  document.getElementById('costRub').textContent = costRub.toFixed(1);
  document.getElementById('spare').textContent = spare.toFixed(1);
}
document.querySelectorAll('input').forEach(el=>{
  el.addEventListener('input', recalc);
  el.addEventListener('change', recalc);
});
recalc();
</script>
</body>
</html>
